(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31acf418"],{"0c22":function(t,e,a){"use strict";a("a112")},a112:function(t,e,a){},a434:function(t,e,a){"use strict";var i=a("23e7"),s=a("23cb"),l=a("a691"),n=a("50c4"),o=a("7b0b"),r=a("65f0"),c=a("8418"),u=a("1dde"),p=a("ae40"),d=u("splice"),f=p("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,g=Math.min,y=9007199254740991,x="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!f},{splice:function(t,e){var a,i,u,p,d,f,v=o(this),b=n(v.length),h=s(t,b),q=arguments.length;if(0===q?a=i=0:1===q?(a=0,i=b-h):(a=q-2,i=g(m(l(e),0),b-h)),b+a-i>y)throw TypeError(x);for(u=r(v,i),p=0;p<i;p++)d=h+p,d in v&&c(u,p,v[d]);if(u.length=i,a<i){for(p=h;p<b-i;p++)d=p+i,f=p+a,d in v?v[f]=v[d]:delete v[f];for(p=b;p>b-i+a;p--)delete v[p-1]}else if(a>i)for(p=b-i;p>h;p--)d=p+i-1,f=p+a-1,d in v?v[f]=v[d]:delete v[f];for(p=0;p<a;p++)v[p+h]=arguments[p+2];return v.length=b-i+a,u}})},d305:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",{staticStyle:{"line-height":"71.5px",float:"left"}},[a("span",{staticClass:"title"},[a("strong",[t._v("问答对评估")])])]),a("div",{staticStyle:{"line-height":"71.5px","margin-bottom":"0px",float:"right"}},[a("el-row",{staticStyle:{"margin-bottom":"0px"},attrs:{type:"flex",justify:"end"}},[a("el-col",{staticStyle:{"margin-top":"2px"},attrs:{span:3}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"语言",clearable:""},model:{value:t.listQuery.cLanguage,callback:function(e){t.$set(t.listQuery,"cLanguage",e)},expression:"listQuery.cLanguage"}},t._l(t.languageOptions,(function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.label}})})),1)],1),a("el-col",{staticStyle:{"margin-top":"2px"},attrs:{span:5}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"学科",clearable:""},model:{value:t.listQuery.cSubject,callback:function(e){t.$set(t.listQuery,"cSubject",e)},expression:"listQuery.cSubject"}},t._l(t.subjectOptions,(function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.label}})})),1)],1),a("el-col",{staticStyle:{"margin-top":"2px"},attrs:{span:4}},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"数据集"},model:{value:t.listQuery.cSource,callback:function(e){t.$set(t.listQuery,"cSource",e)},expression:"listQuery.cSource"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{"margin-left":"20px","margin-top":"5px"},attrs:{circle:"",size:"small",icon:"el-icon-search"},on:{click:t.getData}})],1),a("el-col",{attrs:{span:4}},[a("el-divider",{staticStyle:{display:"inline-block"},attrs:{direction:"vertical"}}),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"10px","font-size":"16px",display:"inline-block"},attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:t.addQuestion}},[t._v("增加问题")])],1)],1)],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"text item"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content label-col",staticStyle:{"line-height":"40px"}},[a("label",[t._v("上下文")])])]),a("el-col",{attrs:{span:3}},[a("el-button",{staticStyle:{"margin-left":"10px","margin-top":"6px"},attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(e){return t.toEditContext("context")}}})],1)],1),a("el-row",{staticStyle:{"margin-bottom":"50px"}},[a("el-col",{attrs:{span:24}},[t.showSkeleton?a("el-skeleton",{attrs:{rows:3,animated:""}}):t._e(),a("div",{staticClass:"textarea"},[t.editMode.editContext?a("el-input",{ref:"context",attrs:{autosize:!0,type:"textarea"},on:{blur:function(e){return t.toLookContext("context")}},model:{value:t.dataObj.cText,callback:function(e){t.$set(t.dataObj,"cText",e)},expression:"dataObj.cText"}}):a("span",{staticStyle:{"margin-left":"10px",display:"block","font-size":"18px"},on:{click:function(e){return t.toEditContext("context")}}},[t._v(" "+t._s(t.dataObj.cText)+" ")])],1)],1)],1),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.dataObj.qList,(function(e,i){return a("el-collapse-item",{key:i,staticStyle:{"font-size":"20px","padding-bottom":"0"},attrs:{name:""+(i+1)}},[a("template",{slot:"title"},[a("label",{staticStyle:{"font-size":"20px"}},[t._v(t._s("问题"+(i+1)))]),a("div",{staticStyle:{"margin-left":"900px"}},[a("el-popconfirm",{attrs:{title:"确定删除"},on:{confirm:function(e){return t.DeleteQuestion(i)}}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{slot:"reference",type:"danger",plain:"",circle:"",icon:"el-icon-delete",size:"small"},slot:"reference"})],1)],1)]),a("el-divider"),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content label-col",staticStyle:{"line-height":"40px","font-size":"16px"}},[a("label",[t._v("问题")])])]),a("el-col",{attrs:{span:1}},[a("el-button",{staticStyle:{"margin-left":"10px","margin-top":"6px"},attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(e){t.toEdit("ques"+i.toString())}}})],1)],1),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"flex",justify:"start"}},[a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:22}},[t.showSkeleton?a("el-skeleton",{attrs:{rows:1,animated:""}}):t._e(),a("div",{staticClass:"textarea"},[!0===t.editMode.editQuestion[i]?a("el-input",{ref:"ques"+i,refInFor:!0,attrs:{autosize:!0,type:"textarea"},on:{blur:function(e){t.toLook("ques"+i.toString())}},model:{value:e.qText,callback:function(a){t.$set(e,"qText",a)},expression:"q.qText"}}):a("span",{staticStyle:{"margin-left":"10px",display:"block","font-size":"14px"},on:{click:function(e){t.toEdit("ques"+i.toString())}}},[t._v(" "+t._s(e.qText)+" ")])],1)],1)],1),a("el-divider"),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content label-col",staticStyle:{"line-height":"40px","font-size":"16px"}},[a("label",[t._v("答案")])])]),a("el-col",{attrs:{span:1}},[a("el-button",{staticStyle:{"margin-left":"10px","margin-top":"6px"},attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(e){t.toEdit("ans"+i.toString())}}})],1)],1),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"flex",justify:"start"}},[a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:22}},[t.showSkeleton?a("el-skeleton",{attrs:{rows:1,animated:""}}):t._e(),a("div",{staticClass:"textarea"},[!0===t.editMode.editAnswer[i]?a("el-input",{ref:"ans"+i,refInFor:!0,attrs:{autosize:!0,type:"textarea"},on:{blur:function(e){t.toLook("ans"+i.toString())}},model:{value:e.qAnswer,callback:function(a){t.$set(e,"qAnswer",a)},expression:"q.qAnswer"}}):a("span",{staticStyle:{"margin-left":"10px",display:"block","font-size":"14px"},on:{click:function(e){t.toEdit("ans"+i.toString())}}},[t._v(" "+t._s(e.qAnswer)+" ")])],1)],1)],1),a("el-divider"),a("el-row",{staticStyle:{"margin-bottom":"8px"},attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content label-col",staticStyle:{"line-height":"40px","font-size":"16px"}},[a("label",[t._v("流畅性")])])]),a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{color:"gray"}},[t._v("问题是否流畅通顺")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"rate-box"},[a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:e.qFluency,callback:function(a){t.$set(e,"qFluency",a)},expression:"q.qFluency"}})],1)])],1),a("el-divider"),a("el-row",{staticStyle:{"margin-bottom":"8px"},attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content label-col",staticStyle:{"line-height":"40px","font-size":"16px"}},[a("label",[t._v("可回答性")])])]),a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{color:"gray"}},[t._v("问题与答案是否合理")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"rate-box"},[a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:e.qReasonability,callback:function(a){t.$set(e,"qReasonability",a)},expression:"q.qReasonability"}})],1)])],1),a("el-divider"),a("el-row",{staticStyle:{"margin-bottom":"8px"},attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content label-col ;font-size: 16px",staticStyle:{"line-height":"40px","font-size":"16px"}},[a("label",[t._v("相关性")])])]),a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{color:"gray"}},[t._v("问题是否与相应上下文匹配")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"rate-box"},[a("el-rate",{attrs:{texts:t.texts,"show-text":""},model:{value:e.qRelevance,callback:function(a){t.$set(e,"qRelevance",a)},expression:"q.qRelevance"}})],1)])],1),a("el-divider"),a("el-row",{staticStyle:{"margin-bottom":"8px"},attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content label-col",staticStyle:{"line-height":"40px","font-size":"16px"}},[a("label",[t._v("难度")])])]),a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{color:"gray"}},[t._v("回答该问题的难易程度")])]),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.qDifficulty,callback:function(a){t.$set(e,"qDifficulty",a)},expression:"q.qDifficulty"}},t._l(t.difficulties,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-divider"),a("el-row",{staticStyle:{"margin-bottom":"8px"},attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content label-col",staticStyle:{"line-height":"40px","font-size":"16px"}},[a("label",[t._v("干扰项")])])]),a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{color:"gray"}},[t._v("答案的干扰项")])]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"rate-box"},t._l(e.qDistractorList,(function(i,s){return a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.qDistractorList.length>0,expression:"q.qDistractorList.length > 0"}],key:s,staticStyle:{"margin-bottom":"5px",display:"inline-block"},model:{value:e.qDistractorList[s],callback:function(a){t.$set(e.qDistractorList,s,a)},expression:"q.qDistractorList[index]"}})})),1)]),a("el-col",{attrs:{span:2}},[t._l(e.qDistractorList.length,(function(s){return[a("div",{staticStyle:{height:"40px","margin-bottom":"5px","line-height":"40px"}},[e.qDistractorList.length>0?a("el-button",{staticStyle:{"vertical-align":"center"},attrs:{type:"danger",icon:"el-icon-minus",circle:"",plain:"",size:"small"},on:{click:function(e){return t.deleteDistractor(i,s-1)}}}):t._e()],1)]}))],2),a("el-col",{attrs:{span:3}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{icon:"el-icon-plus",type:"primary",circle:"",plain:"",size:"small"},on:{click:function(e){return t.addDistractor(i)}}})],1)],1)],2)})),1),a("div",{staticStyle:{"text-align":"center","margin-top":"30px",position:"relative"}},[a("el-button-group",[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.updateDelete}},[t._v("删 除")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"success",icon:"el-icon-suitcase"},on:{click:t.updateEdit}},[t._v("保 存")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{position:"absolute",right:"50px"},attrs:{type:"primary",icon:"el-icon-caret-bottom"},on:{click:t.getData}},[t._v("下一个")])],1)],1)],1)])],1)},s=[],l=a("1da1"),n=(a("a434"),a("96cf"),a("b775"));function o(t){return Object(n["a"])({url:"/question/randomByCondition",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/question/updateQuestions",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/question/deleteQuestions/".concat(t),method:"delete"})}var u=a("5f87"),p={name:"index",data:function(){return{languageOptions:[{key:"Chinese",label:"中文"},{key:"English",label:"英文"}],subjectOptions:[{key:"Chinese",label:"语文"},{key:"ComputerNetwork",label:"计算机网络"},{key:"History",label:"历史"},{key:"DataStructure",label:"数据结构"},{key:"BioScience",label:"生命系统与科学"}],sourceOptions:[{key:"jiaoDaPPT",label:"交大ppt"},{key:"lianXiangPPT",label:"联想ppt"},{key:"lianXiangPPTChuZhong",label:"联想ppt初中"},{key:"lianXiangPPTGaoZhong",label:"联想ppt高中"}],listQuery:{cLanguage:"",cSubject:"",cSource:""},dataObj:{cId:"0",cTitle:"争白前取华细",cText:"sit",qList:[{qId:"69",qText:"mollit veniam",qAnswer:"et in aliqua",qDistractorList:["Duis Lorem occaecat ea","aute amet sunt consequat minim","Ut in Duis"],qFluency:3,qRelevance:4,qDifficulty:3,qReasonability:4},{qId:"27",qText:"cupidatat",qAnswer:"labore ipsum voluptate",qDistractorList:["non tempor","labore","voluptate ut","anim voluptate cillum tempor","nulla Lorem"],qFluency:4,qRelevance:4,qDifficulty:4,qReasonability:2},{qId:"50",qText:"minim aliqua fugiat",qAnswer:"sed",qDistractorList:["ea tempor consectetur fugiat magna","do"],qFluency:3,qRelevance:5,qDifficulty:2,qReasonability:4},{qId:"88",qText:"non consectetur",qAnswer:"ipsum eu Excepteur",qDistractorList:["elit eiusmod magna ex adipisicing"],qFluency:5,qRelevance:2,qDifficulty:1,qReasonability:5}]},activeNames:[],showSkeleton:!1,showDelete:!1,editMode:{editContext:!1,editQuestion:[],editAnswer:[!1,!1,!1,!1]},loading:!1,difficulties:[{value:1,label:"简单"},{value:2,label:"中等"},{value:3,label:"困难"}],difficulty:"",texts:["极差","差","一般","好","很好"],count:0,token:Object(u["a"])()}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,o(t.listQuery);case 4:a=e.sent,200===a.code&&null!=a.data?(t.dataObj=a.data,setTimeout((function(){t.loading=!1}),300)):(t.loading=!1,t.$forceUpdate(),t.$message.warning("未搜索到您要求的问答对")),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message.error("获取数据失败");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},addQuestion:function(){this.dataObj.qList.push({qId:-1,qText:"",qAnswer:"",qDistractorList:[],qFluency:0,qRelevance:0,qDifficulty:0,qReasonability:0}),this.$notify.info({title:"消息",message:"已经在底部增加一个问题"})},toEditContext:function(t){var e=this;this.editMode.editContext=!0,this.$nextTick((function(){console.log(e.$refs[t]),e.$refs[t].focus()}))},toLookContext:function(t){""!==this.dataObj.cText?this.editMode.editContext=!1:this.$notify.error({title:"错误",message:"上下文不能为空",offset:300})},toLook:function(t){var e=t[0],a=parseInt(t[t.length-1]);if("a"===e){if(""===this.dataObj.qList[a].qAnswer)return void this.$notify.error({title:"错误",message:"答案不能为空",offset:300});this.editMode.editAnswer[a]=!1,this.$forceUpdate()}else{if(""===this.dataObj.qList[a].qText)return void this.$notify.error({title:"错误",message:"问题不能为空",offset:300});this.editMode.editQuestion[a]=!1,this.$forceUpdate()}},toEdit:function(t){var e=this,a=t[0],i=parseInt(t[t.length-1]);"a"===a?(this.editMode.editAnswer[i]=!0,this.$forceUpdate(),this.$nextTick((function(){e.$refs[t][0].focus()}))):(this.editMode.editQuestion[i]=!0,this.$forceUpdate(),this.$nextTick((function(){e.$refs[t][0].focus()})))},addDistractor:function(t){this.dataObj.qList[t].qDistractorList.push("")},deleteDistractor:function(t,e){this.dataObj.qList[t].qDistractorList.splice(e,1)},DeleteQuestion:function(t){this.dataObj.qList.splice(t,1),this.$notify({title:"成功",message:"删除问题成功",type:"success"})},updateDelete:function(){var t=this;this.$confirm("删除所有的问题?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t.dataObj.cId);case 2:a=e.sent,200===a.code?(t.$message({type:"success",message:"删除成功!"}),t.getData()):t.$message({type:"error",message:"删除失败！！！"});case 4:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},updateEdit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t.dataObj);case 3:a=e.sent,200===a.code&&t.$message({type:"success",message:"保存成功！"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$message({type:"error",message:"保存失败！！！"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},d=p,f=(a("0c22"),a("2877")),m=Object(f["a"])(d,i,s,!1,null,"213c44fd",null);e["default"]=m.exports}}]);