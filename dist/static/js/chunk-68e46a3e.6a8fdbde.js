(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68e46a3e"],{"73a8":function(t,e,i){},c937:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dashboard-container"},[i("el-row",{staticClass:"shadow"},[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"evalution"}})]),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"rate"}})])],1),i("el-row",{staticClass:"shadow"},[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{width:"600px",height:"400px",margin:"0 auto"},attrs:{id:"type"}})]),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"difficulty"}})])],1),i("el-row",{staticClass:"shadow",attrs:{type:"flex",justify:"space-around"}},[i("el-col",{attrs:{span:22}},[i("div",{staticStyle:{width:"1000px",height:"700px",margin:"0 auto"},attrs:{id:"distribution"}})])],1)],1)},s=[],n=i("b85c"),o=(i("d3b7"),i("159b"),i("e9c4"),i("313e")),l=i("b775");function u(t){return Object(l["a"])({url:"/question/score",method:"get",params:t})}function c(t){return Object(l["a"])({url:"/question/distribution",method:"get",params:t})}function r(t){return Object(l["a"])({url:"/question/type",method:"get",params:t})}function d(t){return Object(l["a"])({url:"/question/difficulty",method:"get",params:t})}var h={name:"Dashboard",data:function(){return{uncheckedNum:0,checkedNum:0,fluency:[],reasonable:[],relevance:[],distribution:[],typeX:[],typeY:[],difficultyX:["简单","中等","困难"],difficultyY:[{value:0,itemStyle:{color:"#67c23a"}},{value:0,itemStyle:{color:"#E6A23C"}},{value:0,itemStyle:{color:"#F56C6C"}}]}},methods:{fetchData:function(){var t=this;u().then((function(e){t.uncheckedNum=e.data.uncheckedNum,t.checkedNum=e.data.checkedNum,t.fluency=e.data.fluency,t.reasonable=e.data.reasonable,t.relevance=e.data.relevance,c().then((function(e){var i=[];e.data.forEach((function(t){i.push({name:t["title"],value:t["count"]})})),t.distribution=JSON.parse(JSON.stringify(i)),t.distribution=i,r().then((function(e){var i=[],a=[];e.data.forEach((function(t){i.push(t["title"]),a.push(t["count"])})),t.typeX=i,t.typeY=a,d().then((function(e){console.log(e.data);var i,a=Object(n["a"])(e.data);try{for(a.s();!(i=a.n()).done;){var s=i.value;console.log(s),0==s["title"]?t.difficultyY[0].value=s["count"]:1==s["title"]?t.difficultyY[1].value=s["count"]:2==s["title"]&&(t.difficultyY[2].value=s["count"])}}catch(o){a.e(o)}finally{a.f()}console.log("difficulty "+t.difficultyY[0].value),t.setupEvaluation(),t.setupRate(),t.setupDistribution(),t.setupType(),t.setupDifficulty()}))}))}))}))},setupEcharts:function(){this.fetchData()},setupEvaluation:function(){var t=o["a"](document.getElementById("evalution")),e={title:{text:"问题评估情况",subtext:"",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"问题数",type:"pie",radius:"50%",data:[{value:this.checkedNum,name:"已评估"},{value:this.uncheckedNum,name:"未评估"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)},setupDistribution:function(){var t=o["a"](document.getElementById("distribution")),e={title:{text:"问题地理分布",subtext:"包含所有",left:"center",top:"5%"},tooltip:{trigger:"item"},legend:{type:"scroll",orient:"horizontal"},series:[{name:"地区",type:"pie",radius:"50%",data:this.distribution,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)},setupType:function(){var t=o["a"](document.getElementById("type")),e={title:{text:"问题类型分布",subtext:"包含所有",left:"center"},xAxis:{type:"category",data:this.typeX},yAxis:{type:"value"},series:[{data:this.typeY,type:"bar",label:{show:!0,position:"top",color:"#000"}}]};t.setOption(e)},setupDifficulty:function(){var t=o["a"](document.getElementById("difficulty")),e={title:{text:"问题难度分布",subtext:"仅包含已评估数据",left:"center"},xAxis:{type:"category",data:this.difficultyX},yAxis:{type:"value"},series:[{data:this.difficultyY,type:"bar",label:{show:!0,position:"inside",color:"#fff"}}]};t.setOption(e)},setupRate:function(){var t=o["a"](document.getElementById("rate")),e={title:{text:"问题评估分数分布"},legend:{},tooltip:{},dataset:{source:[["product","流畅性","合理性","相关性"],["1🌟",this.fluency[0],this.reasonable[0],this.relevance[0]],["2🌟",this.fluency[1],this.reasonable[1],this.relevance[1]],["3🌟",this.fluency[2],this.reasonable[2],this.relevance[2]],["4🌟",this.fluency[3],this.reasonable[3],this.relevance[3]],["5🌟",this.fluency[4],this.reasonable[4],this.relevance[4]]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"},{type:"bar"}]};t.setOption(e)}},mounted:function(){this.setupEcharts()}},f=h,p=(i("eb37"),i("2877")),y=Object(p["a"])(f,a,s,!1,null,"40c5714b",null);e["default"]=y.exports},eb37:function(t,e,i){"use strict";i("73a8")}}]);